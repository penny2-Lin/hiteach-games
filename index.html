<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>HiTeach互動遊戲室</title>
</head>
<body style="margin:0; padding:0; overflow:hidden;">
    <iframe id="gameFrame" src="" style="width:100vw; height:100vh; border:none;"></iframe>

    <script>
        // 自動抓取網址參數 ?game=
        const urlParams = new URLSearchParams(window.location.search);
        const gameFileName = urlParams.get('game');

        // 這是根據您的截圖設定的專屬路徑
        const jsonBaseUrl = "https://penny2-lin.github.io/hiteach-games/";

        if (gameFileName) {
            // 組合完整的 JSON 位址與 HiTeach 播放器網址
            const finalConfigUrl = jsonBaseUrl + gameFileName + ".json";
            const playerUrl = "https://sharing.teammodel.net/ht-pvp-tfgame-play?config_url=" + encodeURIComponent(finalConfigUrl);
            
            // 載入遊戲
            document.getElementById('gameFrame').src = playerUrl;
        } else {
            document.write("<div style='padding:20px; font-family:sans-serif;'><h3>歡迎使用遊戲室</h3>請在網址後方加上遊戲編號，例如：<code>?game=unit1</code></div>");
        }
    </script>
</body>
</html>
